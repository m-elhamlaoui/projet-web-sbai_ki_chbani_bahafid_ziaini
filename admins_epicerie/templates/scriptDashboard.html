<script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
<script type="text/javascript">
  google.charts.load("current", {
    packages: ["corechart"]
  });
  google.charts.setOnLoadCallback(drawChart);

  function drawChart() {
    var data = google.visualization.arrayToDataTable([
      ['Task', 'Hours per Day'],
      {% for vendu in plus_vendus %}
        ['{{ vendu.id_produit__nom_produit }}', {{ vendu.nbVendu }}],
      {% endfor %}
    ]);
    var options = {
      title: 'Les produits les plus vendus',
      is3D: true,
    };
    var chart = new google.visualization.PieChart(document.getElementById('piechart_3d'));
    chart.draw(data, options);
  }
</script>


<script type="text/javascript">
  google.charts.load('current', {
    'packages': ['bar']
  });
  google.charts.setOnLoadCallback(drawChart);

  function drawChart() {
    var data = google.visualization.arrayToDataTable([
      ['Nom Categorie', 'Profit'],
      {% for e in profits_categorie %}
        ['{{ e.lignecommande__id_produit__id_categorie__nom_categorie }}', {{ e.montant_total }}],
      {% endfor %}
    ]);
    var options = {
      chart: {
        title: "Chiffre d'affaire par Cat√©gorie",
      }
    };
    var chart = new google.charts.Bar(document.getElementById('columnchart_material'));
    chart.draw(data, google.charts.Bar.convertOptions(options));
  }
</script>


<script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
<script type="text/javascript">
  google.charts.load('current', {
    'packages': ['table']
  });
  google.charts.setOnLoadCallback(drawTable);

  function drawTable() {
    var data = new google.visualization.DataTable();
    data.addColumn('string', 'Nom produit');
    data.addColumn('number', 'quantite en stok');
    data.addColumn('number', 'prix');
    data.addRows([
      {% for s in produits_seuil %}
        ['{{ s.nom_produit }}', {v: {{ s.qte_en_stock }}}, {v: {{ s.prix }}}],
      {% endfor %}
    ]);
    var table = new google.visualization.Table(document.getElementById('table_div'));
    table.draw(data, {
      showRowNumber: true,
      width: '100%',
      height: '80%'
    });
  }
</script>
